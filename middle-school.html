<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>منصة التعليم الجزائري - الطور المتوسط</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#f3f3ff',
              100: '#e9e9ff',
              200: '#d7d7ff',
              300: '#b8b7ff',
              400: '#918eff',
              500: '#7069fa',
              600: '#5D5CDE', // الأساسي
              700: '#4946c5',
              800: '#3f3aa0',
              900: '#343380'
            },
            secondary: '#F4F9FF',
            dark: {
              primary: '#5D5CDE',
              secondary: '#252836',
              background: '#181818'
            }
          },
          fontFamily: {
            'sans': ['Segoe UI', 'Tahoma', 'sans-serif']
          },
          animation: {
            'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'bounce-slow': 'bounce 3s infinite',
            'slide-in': 'slideIn 0.5s ease-out forwards',
            'fade-in': 'fadeIn 0.5s ease-out forwards',
            'scale-in': 'scaleIn 0.3s ease-out forwards'
          },
          keyframes: {
            slideIn: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            scaleIn: {
              '0%': { transform: 'scale(0.95)', opacity: '0' },
              '100%': { transform: 'scale(1)', opacity: '1' }
            }
          }
        },
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');
    
    :root {
      --primary-color: #5D5CDE;
      --secondary-color: #F4F9FF;
      --highlight-color: #FFB800;
      --success-color: #00C853;
      --warning-color: #FF9800;
      --danger-color: #F44336;
      --info-color: #03A9F4;
    }
    
    body {
      font-family: 'Tajawal', 'Segoe UI', Tahoma, sans-serif;
    }
    
    .icon-subjects {
      transition: all 0.3s ease;
      transform-origin: center;
    }
    
    .icon-subjects:hover {
      transform: scale(1.15);
    }
    
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px -5px rgba(93, 92, 222, 0.3);
    }
    
    .grade-card {
      background-size: 100% 100%;
      background-position: center;
      transition: all 0.3s ease;
    }
    
    .grade-card:hover .grade-title {
      transform: translateY(-5px);
    }
    
    .grade-title {
      transition: transform 0.3s ease;
    }
    
    /* Customized scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.05);
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: var(--primary-color);
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #4946c5;
    }
    
    .dark ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
    }
    
    /* Custom animations for the search results */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .search-result-item {
      animation: fadeInUp 0.3s ease forwards;
      animation-fill-mode: both;
    }
    
    .search-result-item:nth-child(1) { animation-delay: 0.05s; }
    .search-result-item:nth-child(2) { animation-delay: 0.1s; }
    .search-result-item:nth-child(3) { animation-delay: 0.15s; }
    .search-result-item:nth-child(4) { animation-delay: 0.2s; }
    .search-result-item:nth-child(5) { animation-delay: 0.25s; }
    .search-result-item:nth-child(6) { animation-delay: 0.3s; }
    .search-result-item:nth-child(7) { animation-delay: 0.35s; }
    .search-result-item:nth-child(8) { animation-delay: 0.4s; }
    .search-result-item:nth-child(9) { animation-delay: 0.45s; }
    .search-result-item:nth-child(10) { animation-delay: 0.5s; }
    
    /* أنماط للأيقونات التفاعلية */
    .subject-icon {
      width: 40px;
      height: 40px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
    }
    
    .subject-icon.math { background-color: rgba(103, 58, 183, 0.2); color: #673AB7; }
    .subject-icon.arabic { background-color: rgba(233, 30, 99, 0.2); color: #E91E63; }
    .subject-icon.islamic { background-color: rgba(0, 150, 136, 0.2); color: #009688; }
    .subject-icon.civil { background-color: rgba(255, 152, 0, 0.2); color: #FF9800; }
    .subject-icon.science { background-color: rgba(33, 150, 243, 0.2); color: #2196F3; }
    .subject-icon.history { background-color: rgba(121, 85, 72, 0.2); color: #795548; }
    .subject-icon.art { background-color: rgba(233, 30, 99, 0.2); color: #E91E63; }
    .subject-icon.music { background-color: rgba(156, 39, 176, 0.2); color: #9C27B0; }
    .subject-icon.english { background-color: rgba(76, 175, 80, 0.2); color: #4CAF50; }
    .subject-icon.french { background-color: rgba(3, 169, 244, 0.2); color: #03A9F4; }
    .subject-icon.folder { background-color: rgba(255, 193, 7, 0.2); color: #FFC107; }
    .subject-icon.doc { background-color: rgba(63, 81, 181, 0.2); color: #3F51B5; }
    .subject-icon.test { background-color: rgba(244, 67, 54, 0.2); color: #F44336; }
    .subject-icon.homework { background-color: rgba(0, 188, 212, 0.2); color: #00BCD4; }
    .subject-icon.computer { background-color: rgba(0, 200, 83, 0.2); color: #00C853; }
    .subject-icon.physics { background-color: rgba(255, 87, 34, 0.2); color: #FF5722; }
    .subject-icon.sports { background-color: rgba(33, 150, 243, 0.2); color: #2196F3; }
    
    .dark .subject-icon.math { background-color: rgba(103, 58, 183, 0.3); }
    .dark .subject-icon.arabic { background-color: rgba(233, 30, 99, 0.3); }
    .dark .subject-icon.islamic { background-color: rgba(0, 150, 136, 0.3); }
    .dark .subject-icon.science { background-color: rgba(33, 150, 243, 0.3); }
    .dark .subject-icon.civil { background-color: rgba(255, 152, 0, 0.3); }
    .dark .subject-icon.history { background-color: rgba(121, 85, 72, 0.3); }
    .dark .subject-icon.art { background-color: rgba(233, 30, 99, 0.3); }
    .dark .subject-icon.music { background-color: rgba(156, 39, 176, 0.3); }
    .dark .subject-icon.english { background-color: rgba(76, 175, 80, 0.3); }
    .dark .subject-icon.french { background-color: rgba(3, 169, 244, 0.3); }
    .dark .subject-icon.folder { background-color: rgba(255, 193, 7, 0.3); }
    .dark .subject-icon.doc { background-color: rgba(63, 81, 181, 0.3); }
    .dark .subject-icon.test { background-color: rgba(244, 67, 54, 0.3); }
    .dark .subject-icon.homework { background-color: rgba(0, 188, 212, 0.3); }
    .dark .subject-icon.computer { background-color: rgba(0, 200, 83, 0.3); }
    .dark .subject-icon.physics { background-color: rgba(255, 87, 34, 0.3); }
    .dark .subject-icon.sports { background-color: rgba(33, 150, 243, 0.3); }
    
    .subject-icon:hover {
      transform: scale(1.2);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    
    /* التحولات المتدرجة */
    .grade-card {
      position: relative;
      overflow: hidden;
    }
    
    .grade-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: translateX(-100%);
      transition: transform 0.6s ease;
    }
    
    .grade-card:hover::before {
      transform: translateX(100%);
    }
    
    /* خلفيات الصفوف الدراسية المميزة للطور المتوسط */
    .grade-1 {
      background: linear-gradient(45deg, #2196F3, #03A9F4);
    }
    
    .grade-2 {
      background: linear-gradient(45deg, #9C27B0, #673AB7);
    }
    
    .grade-3 {
      background: linear-gradient(45deg, #4CAF50, #8BC34A);
    }
    
    .grade-4 {
      background: linear-gradient(45deg, #F44336, #FF5722);
    }

    /* الأقسام المنسدلة */
    .collapsible-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease-out;
    }

    .collapsible-content.show {
      max-height: 10000px; /* قيمة كبيرة لضمان عرض كل المحتوى */
    }

    .grade-header {
      cursor: pointer;
    }

    .grade-icon {
      transition: transform 0.3s ease;
    }

    .grade-header.active .grade-icon {
      transform: rotate(180deg);
    }
    
    /* قائمة المواد المنسدلة */
    .subject-header {
      cursor: pointer;
      user-select: none;
    }
    
    .subject-icon-dropdown {
      transition: transform 0.3s ease;
    }
    
    .subject-header.active .subject-icon-dropdown {
      transform: rotate(90deg);
    }
    
    .subject-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    
    .subject-content.show {
      max-height: 1000px;
    }
  </style>
</head>
<body class="bg-secondary text-gray-800 dark:bg-dark-background dark:text-gray-100 min-h-screen flex flex-col">

  <!-- التحقق من وضع الظلام -->
  <script>
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.classList.add('dark');
    }
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
      if (event.matches) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    });
  </script>

  <!-- القسم العلوي -->
  <header class="bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-lg dark:from-primary-800 dark:to-primary-900 dark:border-b dark:border-gray-700 animate-fade-in">
    <div class="container mx-auto flex justify-between items-center p-4">
      <div class="flex items-center">
        <div class="text-2xl font-bold md:text-3xl flex items-center">
          <i class="fas fa-school text-3xl ml-2 animate-bounce-slow"></i>
          <span class="hidden md:inline">منصة التعليم الجزائري</span>
          <span class="md:hidden">التعليم الجزائري</span>
        </div>
      </div>
      <div class="flex items-center">
        <button id="darkModeToggle" class="p-2 rounded-full hover:bg-white/20 transition-all duration-300">
          <i class="fas fa-moon text-xl dark:hidden"></i>
          <i class="fas fa-sun text-xl hidden dark:block"></i>
        </button>
      </div>
    </div>
    <div class="container mx-auto px-4 py-3 bg-white/10 dark:bg-gray-800/20 flex justify-between items-center">
      <h1 class="text-xl md:text-2xl font-bold flex items-center">
        <i class="fas fa-chalkboard-teacher ml-2 text-yellow-300"></i>
        الطور المتوسط
      </h1>
      <div class="flex items-center space-x-2 space-x-reverse">
        <a href="index.html" class="hover:underline text-sm md:text-base flex items-center group">
          <i class="fas fa-home ml-1 group-hover:animate-bounce"></i>
          <span>الرئيسية</span>
        </a>
        <span class="text-white/70">/</span>
        <span class="text-sm md:text-base">الطور المتوسط</span>
      </div>
    </div>
  </header>

  <!-- بانر ترحيبي -->
  <div class="container mx-auto p-4 animate-scale-in">
    <div class="bg-gradient-to-r from-primary-100 to-indigo-100 dark:from-primary-900/40 dark:to-indigo-900/40 rounded-xl p-6 shadow-md mb-8">
      <div class="flex flex-col md:flex-row items-center justify-between">
        <div class="mb-4 md:mb-0 md:mr-6">
          <h2 class="text-2xl font-bold text-primary-700 dark:text-primary-300 mb-2">مرحباً بكم في منصة الطور المتوسط</h2>
          <p class="text-gray-700 dark:text-gray-300">اكتشف مجموعة شاملة من المناهج التعليمية والموارد لجميع السنوات الدراسية للطور المتوسط</p>
        </div>
        <div class="flex-shrink-0">
          <div class="w-24 h-24 bg-primary-600 rounded-full flex items-center justify-center text-white shadow-lg">
            <i class="fas fa-atom text-4xl animate-pulse-slow"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- قسم البحث -->
  <div class="container mx-auto p-4 animate-slide-in">
    <div class="relative mb-6">
      <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
        <i class="fas fa-search text-primary-600 dark:text-primary-400"></i>
      </div>
      <input 
        type="text" 
        id="searchInput" 
        class="block w-full p-4 pr-10 text-base text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-primary-600 focus:border-primary-600 transition-all duration-300 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white shadow-sm" 
        placeholder="ابحث عن المواد الدراسية والملفات..."
      >
      <div class="absolute inset-y-0 left-0 flex space-x-2 space-x-reverse px-3 items-center">
        <span id="searchCounter" class="text-xs bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 px-2 py-1 rounded-full hidden transition-all">0 نتيجة</span>
        <button id="clearSearch" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hidden">
          <i class="fas fa-times-circle"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- المحتوى الرئيسي -->
  <main class="container mx-auto px-4 pb-10 flex-grow">
    <!-- شريط المستويات - عرض أفقي في النسخة المحمولة -->
    <div class="flex flex-nowrap overflow-x-auto py-2 mb-6 md:hidden gap-2 scrollbar-hide pb-4 animate-fade-in">
      <a href="#first-year" class="flex-shrink-0 py-2 px-4 bg-blue-100 text-blue-700 rounded-full flex items-center hover:bg-blue-200 transition-all dark:bg-blue-900/40 dark:text-blue-300 dark:hover:bg-blue-800/60">
        <i class="fas fa-user-graduate text-blue-500 ml-1"></i>
        <span>السنة أولى متوسط</span>
      </a>
      <a href="#second-year" class="flex-shrink-0 py-2 px-4 bg-purple-100 text-purple-700 rounded-full flex items-center hover:bg-purple-200 transition-all dark:bg-purple-900/40 dark:text-purple-300 dark:hover:bg-purple-800/60">
        <i class="fas fa-user-graduate text-purple-500 ml-1"></i>
        <span>السنة الثانية متوسط</span>
      </a>
      <a href="#third-year" class="flex-shrink-0 py-2 px-4 bg-green-100 text-green-700 rounded-full flex items-center hover:bg-green-200 transition-all dark:bg-green-900/40 dark:text-green-300 dark:hover:bg-green-800/60">
        <i class="fas fa-user-graduate text-green-500 ml-1"></i>
        <span>السنة الثالثة متوسط</span>
      </a>
      <a href="#fourth-year" class="flex-shrink-0 py-2 px-4 bg-red-100 text-red-700 rounded-full flex items-center hover:bg-red-200 transition-all dark:bg-red-900/40 dark:text-red-300 dark:hover:bg-red-800/60">
        <i class="fas fa-user-graduate text-red-500 ml-1"></i>
        <span>السنة الرابعة متوسط</span>
      </a>
    </div>

    <!-- بطاقات المستويات - عرض للشاشات المتوسطة وما فوق -->
    <div class="hidden md:grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 animate-scale-in">
      <a href="#first-year" id="first-year-card" class="grade-card grade-1 rounded-xl shadow-lg p-6 flex flex-col items-center justify-center text-white min-h-40 card-hover transition-all">
        <div class="text-5xl mb-4"><i class="fas fa-user-graduate"></i></div>
        <h3 class="text-xl font-bold grade-title">السنة أولى متوسط</h3>
      </a>
      <a href="#second-year" id="second-year-card" class="grade-card grade-2 rounded-xl shadow-lg p-6 flex flex-col items-center justify-center text-white min-h-40 card-hover transition-all">
        <div class="text-5xl mb-4"><i class="fas fa-user-graduate"></i></div>
        <h3 class="text-xl font-bold grade-title">السنة الثانية متوسط</h3>
      </a>
      <a href="#third-year" id="third-year-card" class="grade-card grade-3 rounded-xl shadow-lg p-6 flex flex-col items-center justify-center text-white min-h-40 card-hover transition-all">
        <div class="text-5xl mb-4"><i class="fas fa-user-graduate"></i></div>
        <h3 class="text-xl font-bold grade-title">السنة الثالثة متوسط</h3>
      </a>
      <a href="#fourth-year" id="fourth-year-card" class="grade-card grade-4 rounded-xl shadow-lg p-6 flex flex-col items-center justify-center text-white min-h-40 card-hover transition-all">
        <div class="text-5xl mb-4"><i class="fas fa-user-graduate"></i></div>
        <h3 class="text-xl font-bold grade-title">السنة الرابعة متوسط</h3>
      </a>
    </div>

    <!-- تصنيف المحتويات -->
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
      
      <!-- السنة أولى متوسط -->
      <div id="first-year" class="bg-white rounded-lg shadow-md overflow-hidden dark:bg-dark-secondary border border-gray-100 dark:border-gray-700 card-hover animate-slide-in">
        <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 font-bold text-lg flex items-center justify-between grade-header" data-target="firstYearLinks">
          <div class="flex items-center">
            <div class="subject-icon folder ml-2">
              <i class="fas fa-user-graduate"></i>
            </div>
            <span>السنة أولى متوسط</span>
          </div>
          <i class="fas fa-chevron-down grade-icon"></i>
        </div>
        <div class="collapsible-content" id="firstYearLinks">
          <div class="px-4 py-2 border-t border-gray-100 dark:border-gray-700">
            <ul class="divide-y divide-gray-200 dark:divide-gray-700" id="firstYearSubjects">
              <li class="p-2 text-center text-gray-400 dark:text-gray-500">
                <i class="fas fa-circle-notch fa-spin mr-2"></i> جاري تحميل المحتوى...
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- السنة الثانية متوسط -->
      <div id="second-year" class="bg-white rounded-lg shadow-md overflow-hidden dark:bg-dark-secondary border border-gray-100 dark:border-gray-700 card-hover animate-slide-in" style="animation-delay: 0.1s">
        <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 font-bold text-lg flex items-center justify-between grade-header" data-target="secondYearLinks">
          <div class="flex items-center">
            <div class="subject-icon folder ml-2">
              <i class="fas fa-user-graduate"></i>
            </div>
            <span>السنة الثانية متوسط</span>
          </div>
          <i class="fas fa-chevron-down grade-icon"></i>
        </div>
        <div class="collapsible-content" id="secondYearLinks">
          <div class="px-4 py-2 border-t border-gray-100 dark:border-gray-700">
            <ul class="divide-y divide-gray-200 dark:divide-gray-700" id="secondYearSubjects">
              <li class="p-2 text-center text-gray-400 dark:text-gray-500">
                <i class="fas fa-circle-notch fa-spin mr-2"></i> جاري تحميل المحتوى...
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- السنة الثالثة متوسط -->
      <div id="third-year" class="bg-white rounded-lg shadow-md overflow-hidden dark:bg-dark-secondary border border-gray-100 dark:border-gray-700 card-hover animate-slide-in" style="animation-delay: 0.2s">
        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 font-bold text-lg flex items-center justify-between grade-header" data-target="thirdYearLinks">
          <div class="flex items-center">
            <div class="subject-icon folder ml-2">
              <i class="fas fa-user-graduate"></i>
            </div>
            <span>السنة الثالثة متوسط</span>
          </div>
          <i class="fas fa-chevron-down grade-icon"></i>
        </div>
        <div class="collapsible-content" id="thirdYearLinks">
          <div class="px-4 py-2 border-t border-gray-100 dark:border-gray-700">
            <ul class="divide-y divide-gray-200 dark:divide-gray-700" id="thirdYearSubjects">
              <li class="p-2 text-center text-gray-400 dark:text-gray-500">
                <i class="fas fa-circle-notch fa-spin mr-2"></i> جاري تحميل المحتوى...
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- السنة الرابعة متوسط -->
      <div id="fourth-year" class="bg-white rounded-lg shadow-md overflow-hidden dark:bg-dark-secondary border border-gray-100 dark:border-gray-700 card-hover animate-slide-in" style="animation-delay: 0.3s">
        <div class="bg-gradient-to-r from-red-500 to-red-600 text-white p-4 font-bold text-lg flex items-center justify-between grade-header" data-target="fourthYearLinks">
          <div class="flex items-center">
            <div class="subject-icon folder ml-2">
              <i class="fas fa-user-graduate"></i>
            </div>
            <span>السنة الرابعة متوسط</span>
          </div>
          <i class="fas fa-chevron-down grade-icon"></i>
        </div>
        <div class="collapsible-content" id="fourthYearLinks">
          <div class="px-4 py-2 border-t border-gray-100 dark:border-gray-700">
            <ul class="divide-y divide-gray-200 dark:divide-gray-700" id="fourthYearSubjects">
              <li class="p-2 text-center text-gray-400 dark:text-gray-500">
                <i class="fas fa-circle-notch fa-spin mr-2"></i> جاري تحميل المحتوى...
              </li>
            </ul>
          </div>
        </div>
      </div>

    </div>

    <!-- نتائج البحث -->
    <div id="searchResults" class="hidden mt-8 bg-white rounded-lg shadow-md overflow-hidden dark:bg-dark-secondary border border-gray-100 dark:border-gray-700 animate-scale-in">
      <div class="bg-gradient-to-r from-primary-600 to-primary-700 text-white p-4 font-bold text-lg flex items-center justify-between">
        <div class="flex items-center">
          <div class="subject-icon folder ml-2">
            <i class="fas fa-search"></i>
          </div>
          <span>نتائج البحث</span>
        </div>
        <button id="closeSearch" class="text-white hover:text-red-200 p-1 rounded-full hover:bg-white/10 transition-all">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div id="resultsContainer" class="p-3 divide-y divide-gray-200 dark:divide-gray-700">
        <div class="text-center p-8 text-gray-500 dark:text-gray-400 hidden" id="noResultsMessage">
          <i class="fas fa-search text-4xl mb-3 text-gray-300 dark:text-gray-600"></i>
          <p class="font-medium">لا توجد نتائج مطابقة</p>
          <p class="text-sm mt-2">يرجى تغيير معايير البحث أو المحاولة بكلمات مفتاحية أخرى</p>
        </div>
        <div class="hidden" id="loadingResults">
          <div class="flex items-center justify-center p-8">
            <i class="fas fa-circle-notch fa-spin text-primary-600 dark:text-primary-400 text-2xl mr-3"></i>
            <span class="text-gray-600 dark:text-gray-300">جاري البحث...</span>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- القسم السفلي -->
  <footer class="bg-white dark:bg-gray-800 py-8 text-center border-t dark:border-gray-700 mt-auto">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="mb-4 md:mb-0">
          <div class="flex items-center justify-center md:justify-start">
            <i class="fas fa-school text-primary-600 dark:text-primary-400 text-2xl ml-2"></i>
            <span class="text-gray-700 dark:text-gray-300 font-bold text-lg">منصة التعليم الجزائري</span>
          </div>
          <p class="text-gray-600 dark:text-gray-400 text-sm mt-2">منصة تعليمية شاملة للطور المتوسط</p>
        </div>
        <div class="flex flex-wrap justify-center gap-4">
          <a href="index.html" class="text-gray-600 hover:text-primary-600 dark:text-gray-400 dark:hover:text-primary-400 transition-all">
            <i class="fab fa-facebook text-xl"></i>
          </a>
          <a href="index.html" class="text-gray-600 hover:text-primary-600 dark:text-gray-400 dark:hover:text-primary-400 transition-all">
            <i class="fab fa-twitter text-xl"></i>
          </a>
          <a href="index.html" class="text-gray-600 hover:text-primary-600 dark:text-gray-400 dark:hover:text-primary-400 transition-all">
            <i class="fab fa-youtube text-xl"></i>
          </a>
          <a href="index.html" class="text-gray-600 hover:text-primary-600 dark:text-gray-400 dark:hover:text-primary-400 transition-all">
            <i class="fab fa-telegram text-xl"></i>
          </a>
        </div>
      </div>
      <div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700">
        <p class="text-gray-600 dark:text-gray-400">&copy; 2025 منصة التعليم الجزائري - جميع الحقوق محفوظة</p>
      </div>
    </div>
  </footer>

  <!-- زر العودة للأعلى -->
  <button id="scrollToTop" class="fixed bottom-6 left-6 bg-primary-600 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg opacity-0 invisible transition-all duration-300 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-400 z-50 dark:bg-primary-700 dark:hover:bg-primary-600">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- جافاسكريبت للوظائف -->
  <script>
    // بيانات الروابط الكاملة
    const allLinks = [
      { path: "الطور المتوسط", label: "الطور المتوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط", label: "السنة أولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط", label: "الإجتماعيات و التربية المدنية الأولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط/دروس التاريخ", label: "دروس التاريخ" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط/دروس التربية المدنية", label: "دروس التربية المدنية" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط/دروس الجغرافيا", label: "دروس الجغرافيا" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط/مذكرات التاريخ", label: "مذكرات التاريخ" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإجتماعيات و التربية المدنية الأولى متوسط/مذكرات الجغرافيا", label: "مذكرات الجغرافيا" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإعلام الآلي الأولى متوسط", label: "الإعلام الآلي الأولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإعلام الآلي الأولى متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإعلام الآلي الأولى متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإعلام الآلي الأولى متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإعلام الآلي الأولى متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإعلام الآلي الأولى متوسط/ملفات هامة", label: "ملفات هامة" },
      { path: "الطور المتوسط/السنة أولى متوسط/الإعلام الآلي الأولى متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة أولى متوسط/التربية الإسلامية الأولى متوسط", label: "التربية الإسلامية الأولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/التربية الإسلامية الأولى متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة أولى متوسط/التربية الإسلامية الأولى متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة أولى متوسط/التربية الإسلامية الأولى متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط", label: "الرياضيات الأولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/تقييم المكتسبات والمعالجة البيداغوجية", label: "تقييم المكتسبات والمعالجة البيداغوجية" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/تمارين", label: "تمارين" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/مذكرات التثبيت", label: "مذكرات التثبيت" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/ملفات عامة - التعليم المتوسط", label: "ملفات عامة - التعليم المتوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/ملفات هامة", label: "ملفات هامة" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/نماذج تقويم تشخيصي", label: "نماذج تقويم تشخيصي" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/نماذج فارغة لمذكرات", label: "نماذج فارغة لمذكرات" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/واجبات منزلية", label: "واجبات منزلية" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/وثائق يحتاجها أستاذ التعليم المتوسط", label: "وثائق يحتاجها أستاذ التعليم المتوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/وضعيات ( إنطلاق - إدماج - تقويم )", label: "وضعيات ( إنطلاق - إدماج - تقويم )" },
      { path: "الطور المتوسط/السنة أولى متوسط/الرياضيات الأولى متوسط/وضعيات تعليمية مقترحة", label: "وضعيات تعليمية مقترحة" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الطبيعية الأولى متوسط", label: "العلوم الطبيعية الأولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الطبيعية الأولى متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الطبيعية الأولى متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الطبيعية الأولى متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الطبيعية الأولى متوسط/نماذج فارغة لمذكرات", label: "نماذج فارغة لمذكرات" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الطبيعية الأولى متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط", label: "العلوم الفيزيائية الأولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/المعالجة البيداغوجية", label: "المعالجة البيداغوجية" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/المنهاج و الوثيقة المرافقة", label: "المنهاج و الوثيقة المرافقة" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/تقويمات تشخيصية", label: "تقويمات تشخيصية" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/ملخصات", label: "ملخصات" },
      { path: "الطور المتوسط/السنة أولى متوسط/العلوم الفيزيائية الأولى متوسط/وضعيات ( إنطلاق - إدماج - تقويم )", label: "وضعيات ( إنطلاق - إدماج - تقويم )" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة الإنجليزية الأولى متوسط", label: "اللغة الإنجليزية الأولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة الإنجليزية الأولى متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة الإنجليزية الأولى متوسط/تمارين", label: "تمارين" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة العربية الأولى متوسط", label: "اللغة العربية الأولى متوسط" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة العربية الأولى متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة العربية الأولى متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة العربية الأولى متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة العربية الأولى متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة أولى متوسط/اللغة العربية الأولى متوسط/وضعيات إنطلاقية", label: "وضعيات إنطلاقية" },
      
      { path: "الطور المتوسط/السنة الثانية متوسط", label: "السنة الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإجتماعيات و التربية المدنية الثانية متوسط", label: "الإجتماعيات و التربية المدنية الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإجتماعيات و التربية المدنية الثانية متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإجتماعيات و التربية المدنية الثانية متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإجتماعيات و التربية المدنية الثانية متوسط/دروس التاريخ", label: "دروس التاريخ" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإجتماعيات و التربية المدنية الثانية متوسط/دروس التربية المدنية", label: "دروس التربية المدنية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإجتماعيات و التربية المدنية الثانية متوسط/دروس الجغرافيا", label: "دروس الجغرافيا" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإجتماعيات و التربية المدنية الثانية متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإعلام الآلي الثانية متوسط", label: "الإعلام الآلي الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإعلام الآلي الثانية متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإعلام الآلي الثانية متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإعلام الآلي الثانية متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الإعلام الآلي الثانية متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/التربية الإسلامية الثانية متوسط", label: "التربية الإسلامية الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/التربية الإسلامية الثانية متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/التربية الإسلامية الثانية متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/التربية الإسلامية الثانية متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط", label: "الرياضيات الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/تمارين", label: "تمارين" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/نماذج تقويم تشخيصي", label: "نماذج تقويم تشخيصي" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/واجبات منزلية", label: "واجبات منزلية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/وضعيات ( إنطلاق - إدماج - تقويم )", label: "وضعيات ( إنطلاق - إدماج - تقويم )" },
      { path: "الطور المتوسط/السنة الثانية متوسط/الرياضيات الثانية متوسط/وضعيات تعليمية مقترحة", label: "وضعيات تعليمية مقترحة" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الطبيعية الثانية متوسط", label: "العلوم الطبيعية الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الطبيعية الثانية متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الطبيعية الثانية متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الطبيعية الثانية متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الطبيعية الثانية متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الفيزيائية الثانية متوسط", label: "العلوم الفيزيائية الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الفيزيائية الثانية متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الفيزيائية الثانية متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الفيزيائية الثانية متوسط/تقويمات تشخيصية", label: "تقويمات تشخيصية" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الفيزيائية الثانية متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الفيزيائية الثانية متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/العلوم الفيزيائية الثانية متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الثانية متوسط/اللغة الإنجليزية الثانية متوسط", label: "اللغة الإنجليزية الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/اللغة الإنجليزية الثانية متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/اللغة العربية الثانية متوسط", label: "اللغة العربية الثانية متوسط" },
      { path: "الطور المتوسط/السنة الثانية متوسط/اللغة العربية الثانية متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثانية متوسط/اللغة العربية الثانية متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الثانية متوسط/اللغة العربية الثانية متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الثانية متوسط/اللغة العربية الثانية متوسط/نماذج تقويم تشخيصي", label: "نماذج تقويم تشخيصي" },

      { path: "الطور المتوسط/السنة الثالثة متوسط", label: "السنة الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإجتماعيات و التربية المدنية الثالثة متوسط", label: "الإجتماعيات و التربية المدنية الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإجتماعيات و التربية المدنية الثالثة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإجتماعيات و التربية المدنية الثالثة متوسط/دروس التاريخ", label: "دروس التاريخ" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإجتماعيات و التربية المدنية الثالثة متوسط/دروس التربية المدنية", label: "دروس التربية المدنية" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإجتماعيات و التربية المدنية الثالثة متوسط/دروس الجغرافيا", label: "دروس الجغرافيا" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإجتماعيات و التربية المدنية الثالثة متوسط/مذكرات التاريخ", label: "مذكرات التاريخ" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإجتماعيات و التربية المدنية الثالثة متوسط/مذكرات التربية المدنية", label: "مذكرات التربية المدنية" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإعلام الآلي الثالثة متوسط", label: "الإعلام الآلي الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإعلام الآلي الثالثة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإعلام الآلي الثالثة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإعلام الآلي الثالثة متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الإعلام الآلي الثالثة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/التربية الإسلامية الثالثة متوسط", label: "التربية الإسلامية الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/التربية الإسلامية الثالثة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/التربية الإسلامية الثالثة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/التربية الإسلامية الثالثة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/التربية الإسلامية الثالثة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/التربية الموسيقية الثالثة متوسط", label: "التربية الموسيقية الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/التربية الموسيقية الثالثة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط", label: "الرياضيات الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/تمارين", label: "تمارين" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/نماذج تقويم تشخيصي", label: "نماذج تقويم تشخيصي" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/واجبات منزلية", label: "واجبات منزلية" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/وضعيات ( إنطلاق - إدماج - تقويم )", label: "وضعيات ( إنطلاق - إدماج - تقويم )" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/الرياضيات الثالثة متوسط/وضعيات تعليمية مقترحة", label: "وضعيات تعليمية مقترحة" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/العلوم الطبيعية الثالثة متوسط", label: "العلوم الطبيعية الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/العلوم الطبيعية الثالثة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/العلوم الطبيعية الثالثة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/العلوم الطبيعية الثالثة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/العلوم الفيزيائية الثالثة متوسط", label: "العلوم الفيزيائية الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/العلوم الفيزيائية الثالثة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/العلوم الفيزيائية الثالثة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة الإنجليزية الثالثة متوسط", label: "اللغة الإنجليزية الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة الإنجليزية الثالثة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة الإنجليزية الثالثة متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة الإنجليزية الثالثة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة العربية الثالثة متوسط", label: "اللغة العربية الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة العربية الثالثة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة العربية الثالثة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة العربية الثالثة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة العربية الثالثة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة الفرنسية الثالثة متوسط", label: "اللغة الفرنسية الثالثة متوسط" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة الفرنسية الثالثة متوسط/تمارين", label: "تمارين" },
      { path: "الطور المتوسط/السنة الثالثة متوسط/اللغة الفرنسية الثالثة متوسط/دروس", label: "دروس" },
      
      { path: "الطور المتوسط/السنة الرابعة متوسط", label: "السنة الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإجتماعيات و التربية المدنية الرابعة متوسط", label: "الإجتماعيات و التربية المدنية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإجتماعيات و التربية المدنية الرابعة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإجتماعيات و التربية المدنية الرابعة متوسط/دروس التاريخ", label: "دروس التاريخ" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإجتماعيات و التربية المدنية الرابعة متوسط/دروس التربية المدنية", label: "دروس التربية المدنية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإجتماعيات و التربية المدنية الرابعة متوسط/دروس الجغرافيا", label: "دروس الجغرافيا" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإجتماعيات و التربية المدنية الرابعة متوسط/مذكرات التاريخ", label: "مذكرات التاريخ" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإجتماعيات و التربية المدنية الرابعة متوسط/مذكرات التربية المدنية", label: "مذكرات التربية المدنية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإجتماعيات و التربية المدنية الرابعة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإعلام الآلي الرابعة متوسط", label: "الإعلام الآلي الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإعلام الآلي الرابعة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإعلام الآلي الرابعة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإعلام الآلي الرابعة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإعلام الآلي الرابعة متوسط/ملفات هامة", label: "ملفات هامة" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الإعلام الآلي الرابعة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية الإسلامية الرابعة متوسط", label: "التربية الإسلامية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية الإسلامية الرابعة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية الإسلامية الرابعة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية الإسلامية الرابعة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية الإسلامية الرابعة متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية البدنية و الرياضية الرابعة متوسط", label: "التربية البدنية و الرياضية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية البدنية و الرياضية الرابعة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية التشكيلية الرابعة متوسط", label: "التربية التشكيلية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية التشكيلية الرابعة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية التشكيلية الرابعة متوسط/فروض و اختبارات", label: "فروض و اختبارات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية الموسيقية الرابعة متوسط", label: "التربية الموسيقية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/التربية الموسيقية الرابعة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط", label: "الرياضيات الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/تمارين", label: "تمارين" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/شهادات التعليم المتوسط", label: "شهادات التعليم المتوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/ملفات هامة", label: "ملفات هامة" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/نماذج تقويم تشخيصي", label: "نماذج تقويم تشخيصي" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/واجبات منزلية", label: "واجبات منزلية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/وضعيات ( إنطلاق - إدماج - تقويم )", label: "وضعيات ( إنطلاق - إدماج - تقويم )" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/الرياضيات الرابعة متوسط/وضعيات تعليمية مقترحة", label: "وضعيات تعليمية مقترحة" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الطبيعية الرابعة متوسط", label: "العلوم الطبيعية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الطبيعية الرابعة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الطبيعية الرابعة متوسط/تمارين", label: "تمارين" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الطبيعية الرابعة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الطبيعية الرابعة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الطبيعية الرابعة متوسط/نماذج تقويم تشخيصي", label: "نماذج تقويم تشخيصي" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الطبيعية الرابعة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الفيزيائية الرابعة متوسط", label: "العلوم الفيزيائية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الفيزيائية الرابعة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الفيزيائية الرابعة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الفيزيائية الرابعة متوسط/تقويمات تشخيصية", label: "تقويمات تشخيصية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الفيزيائية الرابعة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الفيزيائية الرابعة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/العلوم الفيزيائية الرابعة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة الإنجليزية الرابعة متوسط", label: "اللغة الإنجليزية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة الإنجليزية الرابعة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة الإنجليزية الرابعة متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة الإنجليزية الرابعة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة العربية الرابعة متوسط", label: "اللغة العربية الرابعة متوسط" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة العربية الرابعة متوسط/اختبارات", label: "اختبارات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة العربية الرابعة متوسط/التدرجات الشهرية و السنوية", label: "التدرجات الشهرية و السنوية" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة العربية الرابعة متوسط/دروس", label: "دروس" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة العربية الرابعة متوسط/فروض", label: "فروض" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة العربية الرابعة متوسط/مذكرات", label: "مذكرات" },
      { path: "الطور المتوسط/السنة الرابعة متوسط/اللغة العربية الرابعة متوسط/وثائق الأستاذ", label: "وثائق الأستاذ" }
    ];

    // دالة للحصول على الأيقونة والصنف المناسبين حسب المحتوى
    function getIconAndClass(path) {
      const segments = path.split('/');
      const lastSegment = segments[segments.length - 1].toLowerCase();
      
      if (lastSegment.includes('رياضيات')) return { icon: 'fas fa-square-root-alt', cssClass: 'math' };
      if (lastSegment.includes('عربية')) return { icon: 'fas fa-language', cssClass: 'arabic' };
      if (lastSegment.includes('إسلامية')) return { icon: 'fas fa-mosque', cssClass: 'islamic' };
      if (lastSegment.includes('مدنية')) return { icon: 'fas fa-users', cssClass: 'civil' };
      if (lastSegment.includes('علوم طبيعية')) return { icon: 'fas fa-leaf', cssClass: 'science' };
      if (lastSegment.includes('علوم فيزيائية')) return { icon: 'fas fa-atom', cssClass: 'physics' };
      if (lastSegment.includes('تاريخ') || lastSegment.includes('جغرافيا') || lastSegment.includes('إجتماعيات')) return { icon: 'fas fa-globe', cssClass: 'history' };
      if (lastSegment.includes('تشكيلية')) return { icon: 'fas fa-paint-brush', cssClass: 'art' };
      if (lastSegment.includes('موسيقية')) return { icon: 'fas fa-music', cssClass: 'music' };
      if (lastSegment.includes('فرنسية')) return { icon: 'fas fa-language', cssClass: 'french' };
      if (lastSegment.includes('إنجليزية')) return { icon: 'fas fa-language', cssClass: 'english' };
      if (lastSegment.includes('اختبارات')) return { icon: 'fas fa-clipboard-check', cssClass: 'test' };
      if (lastSegment.includes('واجبات')) return { icon: 'fas fa-home', cssClass: 'homework' };
      if (lastSegment.includes('بدنية')) return { icon: 'fas fa-running', cssClass: 'sports' };
      if (lastSegment.includes('إعلام آلي')) return { icon: 'fas fa-laptop-code', cssClass: 'computer' };
      if (lastSegment.includes('دروس')) return { icon: 'fas fa-book', cssClass: 'doc' };
      if (lastSegment.includes('مذكرات')) return { icon: 'fas fa-sticky-note', cssClass: 'doc' };
      if (lastSegment.includes('وثائق')) return { icon: 'fas fa-file-alt', cssClass: 'doc' };
      if (lastSegment.includes('ملفات')) return { icon: 'fas fa-folder', cssClass: 'folder' };
      if (lastSegment.includes('فروض')) return { icon: 'fas fa-pen', cssClass: 'test' };
      if (lastSegment.includes('تمارين')) return { icon: 'fas fa-tasks', cssClass: 'homework' };
      
      // أيقونة افتراضية للمسارات الأخرى
      return { icon: 'fas fa-file', cssClass: 'folder' };
    }

    // تهيئة الصفحة
    document.addEventListener('DOMContentLoaded', function() {
      // تجميع الروابط حسب السنة الدراسية
      populateLinks();
      
      // إعداد معالجات الأحداث
      setupEventListeners();
      
      // محاكاة تأخير تحميل
      simulateLoading();
    });
    
    // محاكاة تحميل المحتوى
    function simulateLoading() {
      // تأخير تحميل الروابط لمحاكاة تجربة تحميل أكثر واقعية
      setTimeout(() => {
        document.querySelectorAll('.p-2.text-center.text-gray-400').forEach(el => {
          el.parentNode.removeChild(el);
        });
      }, 1000);
    }

    function populateLinks() {
      // حصر الروابط حسب السنة الدراسية
      const firstYearLinks = allLinks.filter(link => 
        link.path.includes('السنة أولى متوسط') && 
        link.path.split('/').length === 3
      );
      
      const secondYearLinks = allLinks.filter(link => 
        link.path.includes('السنة الثانية متوسط') && 
        link.path.split('/').length === 3
      );
      
      const thirdYearLinks = allLinks.filter(link => 
        link.path.includes('السنة الثالثة متوسط') && 
        link.path.split('/').length === 3
      );
      
      const fourthYearLinks = allLinks.filter(link => 
        link.path.includes('السنة الرابعة متوسط') && 
        link.path.split('/').length === 3
      );
      
      // إضافة الروابط إلى الأقسام المناسبة
      addSubjectsToContainer(firstYearLinks, 'firstYearSubjects');
      addSubjectsToContainer(secondYearLinks, 'secondYearSubjects');
      addSubjectsToContainer(thirdYearLinks, 'thirdYearSubjects'); 
      addSubjectsToContainer(fourthYearLinks, 'fourthYearSubjects');
    }
    
    function addSubjectsToContainer(subjects, containerId) {
      const container = document.getElementById(containerId);
      if (!container) return;
      
      // مسح محتوى التحميل
      container.innerHTML = '';
      
      if (subjects.length === 0) {
        container.innerHTML = '<li class="p-4 text-gray-500 dark:text-gray-400 text-center">لا توجد عناصر</li>';
        return;
      }
      
      // ترتيب المواد
      subjects.sort((a, b) => a.path.localeCompare(b.path));
      
      subjects.forEach((subject, index) => {
        const li = document.createElement('li');
        li.className = 'border-b border-gray-200 dark:border-gray-700 last:border-0';
        
        const subjectIconData = getIconAndClass(subject.path);
        
        // إنشاء عنصر المادة كعنوان قابل للنقر
        const subjectHeader = document.createElement('div');
        subjectHeader.className = 'flex items-center justify-between p-3 subject-header cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/40';
        subjectHeader.dataset.path = subject.path;
        
        subjectHeader.innerHTML = `
          <div class="flex items-center">
            <div class="subject-icon ${subjectIconData.cssClass} ml-2">
              <i class="${subjectIconData.icon}"></i>
            </div>
            <span class="font-medium text-gray-800 dark:text-gray-200">${subject.label}</span>
          </div>
          <i class="fas fa-chevron-left text-gray-400 subject-icon-dropdown transition-transform"></i>
        `;
        
        // إنشاء محتوى المادة (القائمة المنسدلة)
        const subjectContent = document.createElement('div');
        subjectContent.className = 'subject-content';
        
        // الحصول على المحتويات الفرعية للمادة
        const subItems = allLinks.filter(item => 
          item.path.startsWith(subject.path + '/') && 
          item.path.split('/').length === subject.path.split('/').length + 1
        );
        
        if (subItems.length > 0) {
          const subList = document.createElement('ul');
          subList.className = 'pr-4 space-y-1 py-2 bg-gray-50 dark:bg-gray-800/20';
          
          subItems.forEach(subItem => {
            const subIconData = getIconAndClass(subItem.path);
            const subLi = document.createElement('li');
            subLi.className = 'py-2 px-3';
            
            subLi.innerHTML = `
              <a href="file-browser.html?path=${encodeURIComponent(subItem.path)}" target="_blank" class="flex items-center text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 group">
                <div class="subject-icon ${subIconData.cssClass} w-8 h-8 ml-2 group-hover:scale-110 transition-transform">
                  <i class="${subIconData.icon} text-sm"></i>
                </div>
                <span>${subItem.label}</span>
                <i class="fas fa-external-link-alt mr-auto text-gray-400 text-xs group-hover:animate-pulse"></i>
              </a>
            `;
            
            subList.appendChild(subLi);
          });
          
          subjectContent.appendChild(subList);
        } else {
          subjectContent.innerHTML = `
            <div class="p-3 text-center text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800/20">
              لا توجد محتويات فرعية
            </div>
          `;
        }
        
        li.appendChild(subjectHeader);
        li.appendChild(subjectContent);
        container.appendChild(li);
        
        // إضافة معالج الحدث لفتح/إغلاق المادة
        subjectHeader.addEventListener('click', function() {
          this.classList.toggle('active');
          const content = this.nextElementSibling;
          content.classList.toggle('show');
        });
      });
    }

    function setupEventListeners() {
      // تبديل وضع الظلام
      document.getElementById('darkModeToggle').addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
      });
      
      // إضافة وظائف الأقسام المنسدلة
      const gradeHeaders = document.querySelectorAll('.grade-header');
      gradeHeaders.forEach(header => {
        header.addEventListener('click', () => {
          const targetId = header.getAttribute('data-target');
          const targetContent = document.getElementById(targetId);
          
          // تبديل حالة العرض للقسم
          header.classList.toggle('active');
          targetContent.classList.toggle('show');
        });
      });
      
      // وظيفة البحث
      const searchInput = document.getElementById('searchInput');
      const searchResults = document.getElementById('searchResults');
      const resultsContainer = document.getElementById('resultsContainer');
      const searchCounter = document.getElementById('searchCounter');
      const clearSearch = document.getElementById('clearSearch');
      const noResultsMessage = document.getElementById('noResultsMessage');
      const loadingResults = document.getElementById('loadingResults');
      const closeSearch = document.getElementById('closeSearch');
      
      // زر إغلاق البحث
      closeSearch.addEventListener('click', () => {
        searchResults.classList.add('hidden');
        searchInput.value = '';
        clearSearch.classList.add('hidden');
        searchCounter.classList.add('hidden');
      });
      
      // زر مسح البحث
      clearSearch.addEventListener('click', () => {
        searchInput.value = '';
        searchInput.focus();
        searchResults.classList.add('hidden');
        clearSearch.classList.add('hidden');
        searchCounter.classList.add('hidden');
      });
      
      searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.trim().toLowerCase();
        
        if (searchTerm.length < 2) {
          searchResults.classList.add('hidden');
          clearSearch.classList.add('hidden');
          searchCounter.classList.add('hidden');
          return;
        }
        
        // عرض أيقونة المسح
        clearSearch.classList.remove('hidden');
        
        // عرض حالة التحميل
        searchResults.classList.remove('hidden');
        noResultsMessage.classList.add('hidden');
        loadingResults.classList.remove('hidden');
        resultsContainer.querySelectorAll('.search-result-item').forEach(item => item.remove());
        
        // محاكاة تأخير البحث
        setTimeout(() => {
          // إجراء البحث
          const results = allLinks.filter(link => 
            link.path.toLowerCase().includes(searchTerm) || 
            link.label.toLowerCase().includes(searchTerm)
          );
          
          // إخفاء حالة التحميل
          loadingResults.classList.add('hidden');
          
          // تحديث عداد النتائج
          searchCounter.textContent = `${results.length} نتيجة`;
          searchCounter.classList.remove('hidden');
          
          if (results.length === 0) {
            noResultsMessage.classList.remove('hidden');
            return;
          }
          
          // عرض النتائج
          results.slice(0, 20).forEach((result, index) => {
            const resultItem = document.createElement('div');
            resultItem.className = 'py-3 hover:bg-gray-50 dark:hover:bg-gray-800/40 transition-all duration-300 search-result-item';
            
            const iconData = getIconAndClass(result.path);
            
            // تحويل المسار إلى نص أكثر قابلية للقراءة
            const readablePath = result.path.split('/').slice(1).join(' / ');
            
            // تحديد ما إذا كان هذا عنصرًا فرعيًا (مذكرات، اختبارات، الخ) أم عنصرًا رئيسيًا (مادة)
            const isSubItem = result.path.split('/').length > 3;
            
            if (isSubItem) {
              resultItem.innerHTML = `
                <a href="file-browser.html?path=${encodeURIComponent(result.path)}" target="_blank" class="flex items-start group">
                  <div class="subject-icon ${iconData.cssClass} ml-2 mt-1 group-hover:scale-110 transition-transform">
                    <i class="${iconData.icon}"></i>
                  </div>
                  <div class="flex-1">
                    <div class="font-medium text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">${result.label}</div>
                    <div class="text-sm text-gray-500 dark:text-gray-400">${readablePath}</div>
                  </div>
                  <i class="fas fa-external-link-alt text-gray-400 text-xs mt-1 group-hover:animate-pulse"></i>
                </a>
              `;
            } else {
              // إذا كان عنصرًا رئيسيًا (مادة)، لا نضيف رابطًا خارجيًا
              resultItem.innerHTML = `
                <div class="flex items-start">
                  <div class="subject-icon ${iconData.cssClass} ml-2 mt-1">
                    <i class="${iconData.icon}"></i>
                  </div>
                  <div class="flex-1">
                    <div class="font-medium text-gray-900 dark:text-gray-100">${result.label}</div>
                    <div class="text-sm text-gray-500 dark:text-gray-400">${readablePath}</div>
                  </div>
                </div>
              `;
            }
            
            resultsContainer.appendChild(resultItem);
          });
          
          // إضافة إشعار إذا كانت هناك نتائج أكثر
          if (results.length > 20) {
            const moreResults = document.createElement('div');
            moreResults.className = 'text-center p-2 text-gray-500 text-sm dark:text-gray-400 mt-2 bg-gray-50 dark:bg-gray-800/40 rounded-md';
            moreResults.textContent = `تم عرض 20 نتيجة من أصل ${results.length}. يرجى تحديد البحث أكثر للحصول على نتائج أدق.`;
            resultsContainer.appendChild(moreResults);
          }
        }, 500);
      });
      
      // إعادة تعيين العرض عند مسح البحث
      searchInput.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          searchInput.value = '';
          searchResults.classList.add('hidden');
          clearSearch.classList.add('hidden');
          searchCounter.classList.add('hidden');
        }
      });
      
      // زر العودة للأعلى
      const scrollToTopBtn = document.getElementById('scrollToTop');
      
      window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
          scrollToTopBtn.classList.remove('opacity-0', 'invisible');
          scrollToTopBtn.classList.add('opacity-100', 'visible');
        } else {
          scrollToTopBtn.classList.add('opacity-0', 'invisible');
          scrollToTopBtn.classList.remove('opacity-100', 'visible');
        }
      });
      
      scrollToTopBtn.addEventListener('click', () => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }
  </script>
</body>
</html>